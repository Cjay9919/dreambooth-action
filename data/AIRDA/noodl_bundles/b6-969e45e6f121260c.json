[{"name":"/Header","nodes":[{"id":"eb416c8b-6d4e-f91d-3a2f-3a61cbf72328","type":"Group","parameters":{"height":{"value":75,"unit":"px"},"sizeMode":"explicit","flexDirection":"row","borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomLeftRadius":{"value":4,"unit":"px"},"borderBottomRightRadius":{"value":4,"unit":"px"},"borderBottomColor":"Grey - 400"},"ports":[],"children":[{"id":"2c3ec750-2d8d-b75b-cc86-d45170d04981","type":"Group","parameters":{},"ports":[],"children":[{"id":"a3073c5f-35be-5ef1-b2a8-d965a0ec2019","type":"Image","parameters":{"sizeMode":"explicit","src":"blcklogo.svg","marginLeft":{"value":5,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"marginRight":{"value":5,"unit":"px"},"marginBottom":{"value":10,"unit":"px"},"alignY":"center"},"ports":[],"children":[]}]},{"id":"994b81cf-7d31-e5da-ef95-111ad6b03ddc","type":"Group","parameters":{"alignX":"right","alignY":"center","sizeMode":"explicit","paddingRight":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"44eefe1f-b4a0-28de-a6a7-144a1ac04a8e","type":"Text","parameters":{"alignY":"center","textAlignX":"right","alignX":"right"},"ports":[],"children":[]}]}]},{"id":"aa340437-840d-9d5f-741f-f605be1d5b9f","type":"/#XanoPrefab/Xano/User/Xano - Current User","parameters":{},"ports":[],"children":[]},{"id":"70f4b2c8-e363-21f8-a6ba-3261b401c84e","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5b4faace-b76d-6401-725a-c9a38d5ed0e3","type":"String Format","parameters":{"format":"/user/{user_id}"},"ports":[],"children":[]},{"id":"58dac5df-76b2-35a7-4ff6-a9f55e8f5743","type":"/#XanoPrefab/Xano/Base/Xano - Request","parameters":{},"ports":[],"children":[]},{"id":"c7678765-5331-3c2f-2769-a0db7bff3051","type":"String Format","parameters":{"format":"Bespoke Designs Remaining: {tokens}"},"ports":[],"children":[]},{"id":"0b9d83d2-3efe-67dd-368c-250f343db196","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"8723c1e7-1e32-64a2-80ae-246aecae5aaa","type":"Expression","parameters":{"expression":"res.body.Tokens"},"ports":[],"children":[]},{"id":"a73c49ff-d3bb-2913-0744-cd6b5feecd70","type":"/Show Toast","parameters":{"Type":"Warning","Message":"SESSION EXPIRED "},"ports":[],"children":[]},{"id":"a1f8f5e9-bdfc-3a4a-b8d1-784fd46830a6","type":"RouterNavigate","parameters":{"router":"Main","target":"/App/auth/Login"},"ports":[],"children":[]},{"id":"ae7bc2fd-5377-4fe4-3310-98ea7eee6f89","type":"Timer","parameters":{"duration":1500},"ports":[],"children":[]}],"connections":[{"sourceId":"aa340437-840d-9d5f-741f-f605be1d5b9f","sourcePort":"Xano ID","targetId":"5b4faace-b76d-6401-725a-c9a38d5ed0e3","targetPort":"user_id"},{"sourceId":"5b4faace-b76d-6401-725a-c9a38d5ed0e3","sourcePort":"formatted","targetId":"58dac5df-76b2-35a7-4ff6-a9f55e8f5743","targetPort":"Endpoint"},{"sourceId":"c7678765-5331-3c2f-2769-a0db7bff3051","sourcePort":"formatted","targetId":"44eefe1f-b4a0-28de-a6a7-144a1ac04a8e","targetPort":"text"},{"sourceId":"aa340437-840d-9d5f-741f-f605be1d5b9f","sourcePort":"Xano ID","targetId":"0b9d83d2-3efe-67dd-368c-250f343db196","targetPort":"user_Id"},{"sourceId":"58dac5df-76b2-35a7-4ff6-a9f55e8f5743","sourcePort":"Response","targetId":"0b9d83d2-3efe-67dd-368c-250f343db196","targetPort":"response"},{"sourceId":"58dac5df-76b2-35a7-4ff6-a9f55e8f5743","sourcePort":"Response","targetId":"8723c1e7-1e32-64a2-80ae-246aecae5aaa","targetPort":"res"},{"sourceId":"8723c1e7-1e32-64a2-80ae-246aecae5aaa","sourcePort":"result","targetId":"c7678765-5331-3c2f-2769-a0db7bff3051","targetPort":"tokens"},{"sourceId":"70f4b2c8-e363-21f8-a6ba-3261b401c84e","sourcePort":"refresh","targetId":"eb416c8b-6d4e-f91d-3a2f-3a61cbf72328","targetPort":"mounted"},{"sourceId":"eb416c8b-6d4e-f91d-3a2f-3a61cbf72328","sourcePort":"didMount","targetId":"ae7bc2fd-5377-4fe4-3310-98ea7eee6f89","targetPort":"start"},{"sourceId":"ae7bc2fd-5377-4fe4-3310-98ea7eee6f89","sourcePort":"timerFinished","targetId":"aa340437-840d-9d5f-741f-f605be1d5b9f","targetPort":"Fetch"},{"sourceId":"aa340437-840d-9d5f-741f-f605be1d5b9f","sourcePort":"Failure","targetId":"a1f8f5e9-bdfc-3a4a-b8d1-784fd46830a6","targetPort":"navigate"},{"sourceId":"aa340437-840d-9d5f-741f-f605be1d5b9f","sourcePort":"Failure","targetId":"a73c49ff-d3bb-2913-0744-cd6b5feecd70","targetPort":"Do"}],"ports":[{"name":"user_Id","type":"*","plug":"output","index":1},{"name":"PAGE LOAD","type":"*","plug":"input","index":1},{"name":"response","type":"*","plug":"output","index":2},{"name":"refresh","type":"boolean","default":true,"group":"General","plug":"input","index":2},{"name":"LOGGED OUT","type":"*","plug":"output","index":3}],"roots":["eb416c8b-6d4e-f91d-3a2f-3a61cbf72328"]},{"name":"/#XanoPrefab/Xano/User/Xano - Current User","nodes":[{"id":"6dd3b82b-90cc-28d2-44e0-0caad9483827","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"36551777-3075-9970-59e1-1bfbbead5c79","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","type":"/#XanoPrefab/Xano/Base/Xano - Request","parameters":{"Endpoint":"/auth/me"},"ports":[],"children":[]},{"id":"b25105cd-d520-8794-80dd-3a1cccae1f89","type":"JavaScriptFunction","parameters":{"functionScript":"if (Inputs.loggedIn) {\n\n        if (!Boolean(Inputs.Response)) return \n\n        const responseBody = Inputs.Response.getBody()\n\n        Object.defineProperty(responseBody, \"xanoid\",\n                Object.getOwnPropertyDescriptor(responseBody, \"id\"));\n        delete responseBody[\"id\"]\n\n        responseBody.id = \"currentUser\"\n        responseBody.loggedIn = Inputs.loggedIn\n\n        currUser = Noodl.Object.create({\n                id : \"currentUser\",\n                loggedIn:true \n                })\n\n        currUser.setAll(responseBody)\n\n        // Accessing Data : \n        // Noodl.Objects[\"currentUser\"].<name your column>\n\n        // Output common Xano user data\n        Outputs.Id = responseBody.id\n        Outputs.xanoId = responseBody.xanoid\n        Outputs.Email = responseBody.email\n        Outputs.Tokens = responseBody.tokens\n        Outputs.loggedIn = true\n\n        // Output full response\n        Outputs.userInformation = responseBody\n\n        Outputs.Success()\n\n} else {\n\n        currUser = Noodl.Object.create({\n                id : \"currentUser\" ,\n                loggedIn:false\n                })\n\n        Outputs.loggedIn = false\n\n        Outputs.Failure()\n\n}"},"ports":[{"name":"in-loggedIn","displayName":"loggedIn","plug":"input","type":"*","group":"Inputs","index":4},{"name":"in-Response","displayName":"Response","plug":"input","type":"*","group":"Inputs","index":5},{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":6},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":7},{"name":"out-Id","displayName":"Id","plug":"output","type":"*","group":"Outputs","index":8},{"name":"out-xanoId","displayName":"xanoId","plug":"output","type":"*","group":"Outputs","index":9},{"name":"out-Email","displayName":"Email","plug":"output","type":"*","group":"Outputs","index":10},{"name":"out-Tokens","displayName":"Tokens","plug":"output","type":"*","group":"Outputs","index":11},{"name":"out-loggedIn","displayName":"loggedIn","plug":"output","type":"*","group":"Outputs","index":12},{"name":"out-userInformation","displayName":"userInformation","plug":"output","type":"*","group":"Outputs","index":13}],"children":[]},{"id":"f238fb36-2480-ae6f-25af-85d4d832e054","type":"/#XanoPrefab/Xano/User/Auth/Xano - authToken - Check ","parameters":{},"ports":[],"children":[]},{"id":"669392c2-3bce-bf4b-9318-e0f578ac7173","type":"States","parameters":{"states":"Success,Failure","values":"loggedIn","useTransitions":false,"type-loggedIn":"boolean","value-Success-loggedIn":true},"ports":[],"children":[]},{"id":"448fb8d4-6bed-7e09-8fa9-2da6317d9f35","type":"Variable2","parameters":{"name":"authMePath"},"ports":[],"children":[]}],"connections":[{"sourceId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","sourcePort":"Response","targetId":"b25105cd-d520-8794-80dd-3a1cccae1f89","targetPort":"in-Response"},{"sourceId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","sourcePort":"Success","targetId":"b25105cd-d520-8794-80dd-3a1cccae1f89","targetPort":"run"},{"sourceId":"b25105cd-d520-8794-80dd-3a1cccae1f89","sourcePort":"out-Email","targetId":"36551777-3075-9970-59e1-1bfbbead5c79","targetPort":"Email"},{"sourceId":"b25105cd-d520-8794-80dd-3a1cccae1f89","sourcePort":"out-xanoId","targetId":"36551777-3075-9970-59e1-1bfbbead5c79","targetPort":"Xano ID"},{"sourceId":"b25105cd-d520-8794-80dd-3a1cccae1f89","sourcePort":"out-userInformation","targetId":"36551777-3075-9970-59e1-1bfbbead5c79","targetPort":"User Data"},{"sourceId":"b25105cd-d520-8794-80dd-3a1cccae1f89","sourcePort":"out-loggedIn","targetId":"36551777-3075-9970-59e1-1bfbbead5c79","targetPort":"Logged In"},{"sourceId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","sourcePort":"Failure","targetId":"b25105cd-d520-8794-80dd-3a1cccae1f89","targetPort":"run"},{"sourceId":"b25105cd-d520-8794-80dd-3a1cccae1f89","sourcePort":"out-Success","targetId":"36551777-3075-9970-59e1-1bfbbead5c79","targetPort":"Success"},{"sourceId":"b25105cd-d520-8794-80dd-3a1cccae1f89","sourcePort":"out-Failure","targetId":"36551777-3075-9970-59e1-1bfbbead5c79","targetPort":"Failure"},{"sourceId":"6dd3b82b-90cc-28d2-44e0-0caad9483827","sourcePort":"Fetch","targetId":"f238fb36-2480-ae6f-25af-85d4d832e054","targetPort":"Do"},{"sourceId":"f238fb36-2480-ae6f-25af-85d4d832e054","sourcePort":"Success","targetId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","targetPort":"Do"},{"sourceId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","sourcePort":"Success","targetId":"669392c2-3bce-bf4b-9318-e0f578ac7173","targetPort":"to-Success"},{"sourceId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","sourcePort":"Failure","targetId":"669392c2-3bce-bf4b-9318-e0f578ac7173","targetPort":"to-Failure"},{"sourceId":"669392c2-3bce-bf4b-9318-e0f578ac7173","sourcePort":"loggedIn","targetId":"b25105cd-d520-8794-80dd-3a1cccae1f89","targetPort":"in-loggedIn"},{"sourceId":"f238fb36-2480-ae6f-25af-85d4d832e054","sourcePort":"Failure","targetId":"669392c2-3bce-bf4b-9318-e0f578ac7173","targetPort":"to-Failure"},{"sourceId":"f238fb36-2480-ae6f-25af-85d4d832e054","sourcePort":"Failure","targetId":"b25105cd-d520-8794-80dd-3a1cccae1f89","targetPort":"run"},{"sourceId":"448fb8d4-6bed-7e09-8fa9-2da6317d9f35","sourcePort":"value","targetId":"6962270c-2466-6fb4-5b3f-40d2b22fcaf7","targetPort":"Endpoint"}],"ports":[{"name":"Success","type":"signal","group":"Signals","plug":"output","index":0},{"name":"Fetch","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","group":"Signals","plug":"output","index":1},{"name":"Id","type":"*","group":"User Data","plug":"output","index":2},{"name":"Xano ID","type":"*","group":"User Data","plug":"output","index":3},{"name":"Email","type":"*","group":"User Data","plug":"output","index":4},{"name":"User Data","type":"*","group":"User Data","plug":"output","index":5},{"name":"Logged In","type":"*","group":"Authentication","plug":"output","index":6}],"roots":[]},{"name":"/#XanoPrefab/Xano/User/Auth/Xano - authToken - Check ","nodes":[{"id":"9cdad9eb-0c1d-98fb-9b4a-d8d3d06d39b4","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"e06254ba-6c82-69e3-0625-c287ab0b8b13","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"bcd883e4-b98d-b040-cbf4-7c6c94e51d4d","type":"JavaScriptFunction","parameters":{"functionScript":"if (!Boolean(Noodl.Variables.xano)) {\n    console.error('XanoClient does not exist! Check \"Setup XanoClient\"')\n    return\n}\n\nconst hasAuthToken = Noodl.Variables.xano.hasAuthToken()\n\nif (hasAuthToken) {\n    Outputs.Success()\n} else {\n    console.log('[XanoAuthTokenRefresh] No token registered')\n    Outputs.Failure()\n}"},"ports":[{"name":"out-Success","displayName":"Success","plug":"output","type":"signal","group":"Outputs","index":4},{"name":"out-Failure","displayName":"Failure","plug":"output","type":"signal","group":"Outputs","index":5}],"children":[]}],"connections":[{"sourceId":"bcd883e4-b98d-b040-cbf4-7c6c94e51d4d","sourcePort":"out-Success","targetId":"e06254ba-6c82-69e3-0625-c287ab0b8b13","targetPort":"Success"},{"sourceId":"bcd883e4-b98d-b040-cbf4-7c6c94e51d4d","sourcePort":"out-Failure","targetId":"e06254ba-6c82-69e3-0625-c287ab0b8b13","targetPort":"Failure"},{"sourceId":"9cdad9eb-0c1d-98fb-9b4a-d8d3d06d39b4","sourcePort":"Do","targetId":"bcd883e4-b98d-b040-cbf4-7c6c94e51d4d","targetPort":"run"}],"ports":[{"name":"Success","type":"signal","plug":"output","index":0},{"name":"Do","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Failure","type":"signal","plug":"output","index":1}],"roots":[]},{"name":"/Bottom Nav","nodes":[{"id":"bdfa2a6e-ef66-2ca7-fc41-0dd885250c83","type":"Group","parameters":{"alignY":"bottom","sizeMode":"contentHeight","position":"sticky","flexDirection":"row","paddingBottom":{"value":10,"unit":"px"},"borderTopStyle":"solid","borderTopLeftRadius":{"value":0,"unit":"px"},"borderTopColor":"#00000033","flexWrap":"nowrap","scrollEnabled":true,"nativeScroll":true,"scrollSnapEnabled":true,"paddingTop":{"value":5,"unit":"px"},"backgroundColor":"White","scrollSnapToEveryItem":true},"ports":[],"children":[{"id":"e371d408-9f79-63a4-f24d-1cb9d6d84668","type":"Group","parameters":{"flexDirection":"column","alignX":"center","marginTop":{"value":2,"unit":"px"},"sizeMode":"contentWidth","height":{"value":100,"unit":"%"},"width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"c8a9b69b-b61d-0fe4-63ee-21561a3c01ad","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"brush","codeAsClass":false},"iconColor":"#000000","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"1f3516c7-8b4f-c87b-67c8-3b60a2366453","type":"net.noodl.controls.button","parameters":{"backgroundColor":"transparent","label":"Studio","color":"#000000","useIcon":false,"alignX":"center","sizeMode":"contentSize","width":{"value":25,"unit":"px"}},"ports":[],"children":[]}]},{"id":"9fa2c5c3-75e9-fcfa-9587-c3cca5bbbcf8","type":"Group","parameters":{"flexDirection":"column","alignX":"center","marginTop":{"value":2,"unit":"px"},"sizeMode":"contentWidth"},"ports":[],"children":[{"id":"c7aad3ca-45a4-c3e0-5baa-d10994777565","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"photo_library","codeAsClass":false},"iconColor":"#000000","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"8f55251c-b902-5bac-c30a-a56f0d44a2ac","type":"net.noodl.controls.button","parameters":{"backgroundColor":"transparent","label":"Gallery","color":"#000000","useIcon":false,"alignX":"center","sizeMode":"contentSize","width":{"value":50,"unit":"px"},"paddingRight":{"value":23,"unit":"px"}},"ports":[],"children":[]}]},{"id":"f7aabc55-c140-42ac-91f3-b1c5dc362e55","type":"Group","parameters":{"flexDirection":"column","alignX":"center","marginTop":{"value":2,"unit":"px"},"sizeMode":"contentWidth"},"ports":[],"children":[{"id":"b76eb74f-9ade-a66a-7f37-55439adf3d82","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"auto_awesome_mosaic","codeAsClass":false},"iconColor":"#000000","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"66a5ab18-1cbb-c771-39ad-ba0632c64e36","type":"net.noodl.controls.button","parameters":{"backgroundColor":"transparent","label":"Community","color":"#000000","useIcon":false,"alignX":"center","sizeMode":"contentSize","width":{"value":50,"unit":"px"}},"ports":[],"children":[]}]},{"id":"3635cc5b-3d9b-78ee-d919-c039cb44e9f1","type":"Group","parameters":{"flexDirection":"column","alignX":"center","marginTop":{"value":2,"unit":"px"},"sizeMode":"contentWidth"},"ports":[],"children":[{"id":"d202915f-d80a-7065-3a85-8d1ffc7a1949","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"settings","codeAsClass":false},"iconColor":"#000000","alignX":"center","iconSize":{"value":20,"unit":"px"}},"ports":[],"children":[]},{"id":"ce63aa49-ddd3-c525-62f0-a19f9e8028d9","type":"net.noodl.controls.button","parameters":{"backgroundColor":"transparent","label":"Settings","color":"#000000","useIcon":false,"alignX":"center","sizeMode":"contentSize"},"ports":[],"children":[]}]}]},{"id":"790d349c-c5aa-b15c-7c80-e2c79ef4390c","type":"PageInputs","parameters":{},"ports":[],"children":[]},{"id":"e8d1be3e-1286-5bd1-35a9-cd00585d18bb","type":"RouterNavigate","parameters":{"router":"Main","target":"/App/Studio Select"},"ports":[],"children":[]},{"id":"b107688a-44da-cbc0-a2f3-970066fb4e41","type":"RouterNavigate","parameters":{"router":"Main","target":"/App/Gallery"},"ports":[],"children":[]},{"id":"9369c37a-fd1b-7b4f-1bd4-d67b712913db","type":"RouterNavigate","parameters":{"router":"Main","target":"/App/Community"},"ports":[],"children":[]},{"id":"c8b56ae4-4602-4f7c-dc2a-aedbc7aaba21","type":"RouterNavigate","parameters":{"router":"Main","target":"/App/Settings"},"ports":[],"children":[]}],"connections":[{"sourceId":"e371d408-9f79-63a4-f24d-1cb9d6d84668","sourcePort":"onClick","targetId":"e8d1be3e-1286-5bd1-35a9-cd00585d18bb","targetPort":"navigate"},{"sourceId":"9fa2c5c3-75e9-fcfa-9587-c3cca5bbbcf8","sourcePort":"onClick","targetId":"b107688a-44da-cbc0-a2f3-970066fb4e41","targetPort":"navigate"},{"sourceId":"f7aabc55-c140-42ac-91f3-b1c5dc362e55","sourcePort":"onClick","targetId":"9369c37a-fd1b-7b4f-1bd4-d67b712913db","targetPort":"navigate"},{"sourceId":"3635cc5b-3d9b-78ee-d919-c039cb44e9f1","sourcePort":"onClick","targetId":"c8b56ae4-4602-4f7c-dc2a-aedbc7aaba21","targetPort":"navigate"}],"ports":[],"roots":["bdfa2a6e-ef66-2ca7-fc41-0dd885250c83"]}]